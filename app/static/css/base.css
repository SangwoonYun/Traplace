:root{
  --cell: 48px;          /* 1 셀의 픽셀 크기 */
  --sidebar-w: 240px;
  --bg: #fff;
  --grid-bold: #d0d0d0;

  --paint-blue: rgba(66,133,244,0.25);
  --paint-blue-border: rgba(66,133,244,0.9);
  --paint-red: rgba(220,20,60,0.35);

  --trash-bg: rgba(220,20,60,0.07);
  --trash-bg-active: rgba(220,20,60,0.2);
  --trash-border: rgba(220,20,60,0.5);
  --trash-border-active: rgba(220,20,60,0.9);
  --trash-fg: #b00020;

  --ok-bg: #fafafa;
  --ok-border: #555;
  --warn-bg: #ffe9e9;
  --warn-border: #cc1e1e;
  --resource-bg: #ffe5e5;
  --resource-border: #d00000;

  --zoom: 1; /* 1 = 100% */

  --world-w: 1200px;        /* JS에서 실제 world px로 갱신됨 */
  --world-h: 1200px;        /* JS에서 실제 world px로 갱신됨 */
  --rot-k: 0.7071067811865476; /* = √2/2 */
}

* { box-sizing: border-box; }
body{
  margin:0; height:100vh;
  display:grid; grid-template-columns: var(--sidebar-w) 1fr;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
}

.viewport{
  position:relative; overflow:auto; background: var(--bg);
  touch-action: none;
}
.viewport.panning{ cursor: grabbing; }

.world{ position:relative; }

.rot{
  position: absolute;
  inset: 0;
  transform-origin: 0 0; /* 원점 기준으로 수식이 맞춰져 있음 */
  /* 순서 중요: translate → rotate → scale(-1) → zoom */
  transform:
    translate(
      calc(var(--world-w) * var(--rot-k)),
      calc((var(--world-w) + var(--world-h)) * var(--rot-k))
    )
  rotate(45deg)
  scale(-1)
  scale(var(--zoom));
}
